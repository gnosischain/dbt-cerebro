version: 2
models:

- name: api_execution_transactions_7d
  description: View representing transaction data from the last 7 days, including value and change percentage, derived from the execution snapshots.
  columns:
  - name: value
    description: Transaction value in wei (smallest denomination; 256-bit integer).
    data_type: String
  - name: change_pct
    description: Percentage change in transaction value over the 7-day window.
    data_type: Float64
  config:
    materialized: view
    access: public
    tags:
    - production
    - execution
    - transactions
  meta:
    owner: analytics-team
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_active_accounts_7d
  description: View capturing the value and change percentage of active accounts over a 7-day window, derived from execution transactions data.
  columns:
  - name: value
    description: Total value of active accounts in wei.
    data_type: String
  - name: change_pct
    description: Percentage change in active account value over the 7-day window.
    data_type: Float64
  config:
    access: public
    materialized: view
    tags:
    - production
    - execution
    - transactions
  meta:
    owner: analytics-team
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_active_accounts_by_project_7d
  description: Business-facing view summarizing active accounts per project over a 7-day window.
  columns:
  - name: label
    description: Label categorizing the transaction type, e.g., 'ActiveAccounts'.
    data_type: String
  - name: value
    description: Numeric value representing the count of active accounts.
    data_type: UInt64
  - name: change_pct
    description: Percentage change over the window, expressed as a decimal.
    data_type: Float64
  config:
    access: public
    tags:
    - production
    - execution
    - transactions
    materialized: view
  meta:
    owner: analytics-team
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_active_accounts_by_project_total
  description: View summarizing total active accounts per project within the execution data.
  columns:
  - name: label
    description: Label identifying the transaction category, e.g., 'ActiveAccounts'.
    data_type: String
  - name: value
    description: Total count of active accounts for the project.
    data_type: UInt64
  config:
    access: public
    tags:
    - production
    - execution
    - transactions
    materialized: view
  meta:
    owner: analytics-team
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_active_accounts_total
  description: Total number of active accounts involved in execution transactions, aggregated over all relevant data.
  columns:
  - name: value
    description: Count of active accounts involved in execution transactions (aggregated total)
    data_type: UInt64
  config:
    access: public
    tags:
    - production
    - execution
    - transactions
    materialized: view
  meta:
    owner: analytics-team
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_active_accounts_by_project_monthly_top5
  description: Business-facing view summarizing active accounts by project and month, focusing on the top 5 projects based on transaction activity.
  columns:
  - name: date
    description: The month date for aggregation (YYYY-MM-DD).
    data_type: DateTime
  - name: label
    description: Project label or identifier.
    data_type: String
  - name: value
    description: Count of active accounts for the project in the given month.
    data_type: UInt64
  config:
    access: public
    tags:
    - production
    - execution
    - transactions
    materialized: view
  meta:
    owner: analytics-team
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_active_accounts_by_sector_daily
  description: Business-facing view summarizing daily active accounts by sector.
  columns:
  - name: date
    description: Date of the transaction data in YYYY-MM-DD format.
    data_type: DateTime
  - name: label
    description: Sector label categorizing the account activity.
    data_type: String
  - name: value
    description: Number of active accounts within the sector on the given date.
    data_type: UInt64
  config:
    access: public
    tags:
    - production
    - execution
    - transactions
    materialized: view
  meta:
    owner: analytics-team
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_active_accounts_by_sector_hourly
  description: Business-facing view aggregating active accounts by sector and hour, derived from execution data. Provides insights into account activity levels segmented by sector on an hourly basis.
  columns:
  - name: value
    description: Merged bitmap of active accounts for each sector during the hour.
    data_type: UInt64
  - name: date
    description: Hourly timestamp representing the start of the hour.
    data_type: DateTime
  - name: label
    description: Sector label categorizing the accounts.
    data_type: String
  config:
    access: public
    tags:
    - production
    - execution
    - transactions
    - hourly
    materialized: view
  meta:
    owner: analytics-team
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_by_project_7d
  description: Aggregated transaction data for a specific project over a 7-day window, including labels, values, and percentage changes.
  columns:
  - name: label
    description: Category label for the transaction data, e.g., 'Transactions'.
    data_type: String
  - name: value
    description: Numeric value representing total transactions or related metric.
    data_type: Float64
  - name: change_pct
    description: Percentage change over the 7-day window, expressed as a decimal.
    data_type: Float64
  config:
    access: public
    tags:
    - production
    - execution
    - transactions
    materialized: view
  meta:
    owner: analytics-team
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_by_project_monthly_top5
  description: Business-facing view summarizing top 5 projects' transaction counts per month.
  columns:
  - name: date
    description: The month date (YYYY-MM-01) representing the period.
    data_type: DateTime
  - name: label
    description: Project label or identifier.
    data_type: String
  - name: value
    description: Number of transactions for the project in the given month.
    data_type: UInt64
  config:
    access: public
    tags:
    - production
    - execution
    - transactions
    materialized: view
  meta:
    owner: analytics_team
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_by_project_total
  description: Summarizes total number of transactions per project, including labels and values, ordered by value.
  columns:
  - name: label
    description: Label categorizing the transaction data, e.g., 'Transactions'.
    data_type: String
  - name: value
    description: Total count of transactions associated with the label.
    data_type: UInt64
  config:
    access: public
    tags:
    - production
    - execution
    - transactions
    materialized: view
  meta:
    owner: analytics_team
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_by_sector_daily
  description: Business-facing view summarizing daily transaction counts by sector.
  columns:
  - name: date
    description: Calendar date of the transaction data (UTC).
    data_type: DateTime
  - name: label
    description: Sector label categorizing transactions.
    data_type: String
  - name: value
    description: Number of transactions in the sector for the day.
    data_type: UInt64
  config:
    access: public
    tags:
    - production
    - execution
    - transactions
    materialized: view
  meta:
    owner: analytics-team
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_by_sector_hourly
  description: Aggregates transaction counts grouped by sector and hour, providing business-facing insights into transaction volume trends over time.
  columns:
  - name: value
    description: Sum of transaction counts for each sector-hour group.
    data_type: Float64
  - name: date
    description: The hour timestamp representing the start of the hour window (UTC).
    data_type: DateTime
  - name: label
    description: Sector label categorizing the transaction data.
    data_type: String
  config:
    access: public
    materialized: view
    tags:
    - production
    - execution
    - transactions
    - hourly
  meta:
    owner: analytics-team
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_cnt_daily
  description: Business-facing table summarizing the count of API execution transactions per day, including transaction type and total count.
  columns:
  - name: date
    description: Date of the transaction count, in UTC (YYYY-MM-DD).
    data_type: Date
  - name: transaction_type
    description: Type of transaction (e.g., transfer, approval).
    data_type: String
  - name: value
    description: Count of transactions of the given type on the date.
    data_type: UInt64
  config:
    access: public
    materialized: view
    tags:
    - production
    - execution
    - transactions
  meta:
    owner: analytics-team
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_cnt_total
  description: Aggregated count of transactions grouped by transaction type, representing total number of transactions per type for business analysis.
  columns:
  - name: transaction_type
    description: Type of transaction (e.g., transfer, contract call) as categorized in the source.
    data_type: String
  - name: value
    description: Total number of transactions for the given transaction type.
    data_type: UInt64
  config:
    access: public
    materialized: view
    tags:
    - production
    - execution
    - transactions
  meta:
    owner: analytics_team
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_fees_native_7d
  description: View of transaction fees and related data for the 7-day window, filtered for native fees, aggregating relevant transaction, log, transfer, and index information to support business analysis of fee patterns over a week.
  columns:
  - name: value
    description: Total fee value in wei for the 7-day window, representing the sum of native transaction fees.
    data_type: String
  - name: change_pct
    description: Percentage change in fees compared to the previous period, expressed as a decimal (e.g., 0.05 for 5% increase).
    data_type: Float64
  config:
    access: public
    materialized: view
    tags:
    - production
    - execution
    - transactions
  meta:
    owner: analytics-team
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_fees_native_by_project_7d
  description: View of transaction fees native by project over the last 7 days, filtered for label 'FeesNative' and window '7D'.
  columns:
  - name: label
    description: Label identifying the transaction type, e.g., 'FeesNative'.
    data_type: String
  - name: value
    description: Total fee value in wei (wei units).
    data_type: UInt64
  - name: change_pct
    description: Percentage change over the period.
    data_type: Float64
  config:
    access: public
    tags:
    - production
    - execution
    - transactions
    materialized: view
  meta:
    owner: analytics-team
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_fees_native_by_project_monthly_top5
  description: Business-facing view of native fee transactions aggregated by project and month, highlighting the top 5 projects based on fee value.
  columns:
  - name: date
    description: The date representing the month of transaction aggregation, in UTC.
    data_type: DateTime
  - name: label
    description: Identifier label for the project or category.
    data_type: String
  - name: value
    description: Total fee value in wei for the project in the given month.
    data_type: UInt64
  config:
    access: public
    tags:
    - production
    - execution
    - transactions
    materialized: view
  meta:
    owner: analytics_team
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_fees_native_by_project_total
  description: Business-facing summary of total native fees per project based on execution transactions.
  columns:
  - name: value
    description: Total native fees value aggregated from execution transactions.
    data_type: Float64
  - name: label
    description: Project label associated with the fee total.
    data_type: String
  config:
    access: public
    tags:
    - production
    - execution
    - transactions
    materialized: view
  meta:
    owner: analytics_team
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_fees_native_by_sector_daily
  description: Daily aggregated fees in native tokens, grouped by sector, derived from execution transactions.
  columns:
  - name: date
    description: Date of the transaction aggregation (UTC).
    data_type: DateTime
  - name: label
    description: Sector label categorizing the transaction.
    data_type: String
  - name: value
    description: Sum of native fees in wei for the sector on the given date.
    data_type: UInt64
  config:
    access: public
    tags:
    - production
    - execution
    - transactions
    materialized: view
  meta:
    owner: analytics-team
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_fees_native_by_sector_hourly
  description: Business-facing view aggregating native transaction fees by sector on an hourly basis.
  columns:
  - name: date
    description: Hourly timestamp representing the start of the hour.
    data_type: DateTime
  - name: label
    description: Sector label categorizing the transaction fees.
    data_type: String
  - name: value
    description: Total native transaction fees in wei, rounded to two decimal places.
    data_type: Float64
  config:
    access: public
    materialized: view
    tags:
    - production
    - execution
    - transactions
    - hourly
  meta:
    owner: analytics-team
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_fees_native_total
  description: Total native transaction fees collected during API execution, aggregated for business analysis and reporting.
  columns:
  - name: value
    description: Total native transaction fees (wei) collected, aggregated across relevant transactions.
    data_type: UInt64
  config:
    access: public
    tags:
    - production
    - execution
    - transactions
    materialized: view
  meta:
    owner: analytics-team
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_gas_share_by_project_daily
  description: Business-facing view summarizing daily gas share per project based on execution transactions.
  columns:
  - name: date
    description: Date of the transaction data (YYYY-MM-DD).
    data_type: DateTime
  - name: label
    description: Project label or name associated with the transaction.
    data_type: String
  - name: value
    description: Percentage of gas share for the project on the given date, rounded to 2 decimal places.
    data_type: Float64
  - name: day_gas_used
    description: Total gas used across all projects on the date.
    data_type: UInt64
  config:
    access: public
    materialized: view
    tags:
    - production
    - execution
    - transactions
    - gas
  meta:
    owner: analytics-team
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_gas_used_daily
  description: Daily aggregated data on gas used in API execution transactions, including transaction type, gas price metrics, and related metadata for business analysis.
  columns:
  - name: date
    description: Date of the transaction (UTC), in YYYY-MM-DD format.
    data_type: DateTime
  - name: transaction_type
    description: Type/category of the transaction (e.g., transfer, contract call).
    data_type: String
  - name: gas_used
    description: Total gas used in transactions on this date.
    data_type: UInt64
  - name: gas_price_avg
    description: Average gas price (wei) across transactions on this date.
    data_type: UInt64
  - name: gas_price_median
    description: Median gas price (wei) across transactions on this date.
    data_type: UInt64
  config:
    access: public
    materialized: view
    tags:
    - production
    - execution
    - transactions
  meta:
    owner: analytics-team
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_total
  description: Business-facing metric representing the total number of API execution transactions aggregated over the specified period. This metric helps monitor transaction volume and API usage patterns.
  columns:
  - name: value
    description: Total count of API execution transactions in the current period.
    data_type: UInt64
  config:
    access: public
    materialized: view
    tags:
    - production
    - execution
    - transactions
  meta:
    owner: analytics-team
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_value_daily
  description: Daily aggregated values of API execution transactions, including metrics such as average, median, and total transaction value, segmented by date and transaction type.
  columns:
  - name: date
    description: Calendar date of the transaction aggregation (UTC).
    data_type: DateTime
  - name: transaction_type
    description: Type/category of transaction (e.g., transfer, contract call).
    data_type: String
  - name: xdai_value
    description: Total transaction value in wei for the day and type.
    data_type: UInt64
  - name: xdai_value_avg
    description: Average transaction value in wei for the day and type.
    data_type: Float64
  - name: xdai_value_median
    description: Median transaction value in wei for the day and type.
    data_type: Float64
  config:
    access: public
    materialized: view
    tags:
    - production
    - execution
    - transactions
  meta:
    owner: analytics-team
    authoritative: false
    generated_by: schema-writer
- name: fct_execution_transactions_by_project_monthly_top5
  description: Business-facing table aggregating transaction data by project and month, including top 5 projects per month and various transaction metrics.
  columns:
  - name: date
    description: The month start date for the aggregated data (UTC).
    data_type: DateTime
  - name: project
    description: The project name or identifier.
    data_type: String
  - name: txs
    description: Total number of transactions in the project for the month.
    data_type: UInt64
  - name: fee_native
    description: Sum of native fees (wei) paid in the transactions during the month.
    data_type: UInt64
  - name: gas_used
    description: Total gas used by transactions in the project for the month.
    data_type: UInt64
  - name: active_state
    description: Bitmap state representing active accounts during the month.
    data_type: String
  - name: label
    description: Project label, with 'Others' for projects outside top 5.
    data_type: String
  - name: metric
    description: Metric name identifier (e.g., 'Transactions', 'FeesNative', 'GasUsed', 'ActiveAccounts').
    data_type: String
  - name: value
    description: Corresponding metric value for the project and month.
    data_type: Float64
  config:
    access: public
    materialized: table
    tags:
    - production
    - execution
    - transactions
  meta:
    owner: analytics-team
    authoritative: false
    generated_by: schema-writer
- name: fct_execution_transactions_by_project_snapshots
  description: Aggregated transaction and fee data by project over various time windows, including current, previous, and all-time, with change percentages and activity metrics.
  columns:
  - name: max_date
    description: The most recent date available in the source data.
    data_type: DateTime
  - name: label
    description: The label indicating the metric type, e.g., 'Transactions', 'FeesNative', 'ActiveAccounts'.
    data_type: String
  - name: window
    description: The time window identifier, e.g., '1D', '7D', '30D', '90D', or 'All'.
    data_type: String
  - name: bucket
    description: The project or bucket identifier.
    data_type: String
  - name: value
    description: The metric value, converted to float64 for numerical analysis.
    data_type: Float64
  - name: change_pct
    description: Percentage change from previous window, null if not applicable.
    data_type: Float64
  config:
    access: public
    tags:
    - production
    - execution
    - transactions
    materialized: table
  meta:
    owner: analytics_team
    authoritative: false
    generated_by: schema-writer
- name: fct_execution_transactions_snapshots
  description: Snapshot table capturing execution transaction metrics, change percentages, and related metadata for analysis and reporting.
  columns:
  - name: max_date
    description: The latest date from the source table 'int_execution_transactions_by_project_daily'.
    data_type: DateTime
  - name: label
    description: Label categorizing the metric, e.g., 'Transactions', 'FeesNative', 'ActiveAccounts'.
    data_type: String
  - name: window
    description: Time window identifier, e.g., '1D', '7D', '30D', '90D', or 'All'.
    data_type: String
  - name: value
    description: Numeric value of the metric for the given window.
    data_type: Float64
  - name: change_pct
    description: Percentage change compared to previous window; null if not applicable.
    data_type: Float64
  config:
    access: public
    tags:
    - production
    - execution
    - transactions
    materialized: table
  meta:
    owner: analytics_team
    authoritative: false
    generated_by: schema-writer
- name: fct_execution_transactions_by_sector_daily
  description: Aggregated daily execution transaction data grouped by sector, including active accounts, transaction counts, gas usage, and fees, sourced from the `int_execution_transactions_by_project_daily` table.
  columns:
  - name: date
    description: Calendar date of the transaction aggregation (UTC).
    data_type: DateTime
  - name: sector
    description: Sector classification for the transactions (e.g., DeFi, NFT, etc.).
    data_type: String
  - name: active_accounts
    description: Bitmap of active accounts during the day.
    data_type: String
  - name: txs
    description: Total number of transactions executed on the given date and sector.
    data_type: UInt64
  - name: gas_used_sum
    description: Sum of gas used across all transactions for the date and sector.
    data_type: UInt64
  - name: fee_native_sum
    description: Total native fees (in GNO/XDAI) paid, rounded to 6 decimal places.
    data_type: Float64
  config:
    access: public
    tags:
    - production
    - execution
    - transactions
    materialized: table
  meta:
    owner: analytics_team
    authoritative: false
    generated_by: schema-writer
