version: 2
models:

- name: execution_txs_info_daily
  description: Business-facing summary of daily execution transactions, including counts, gas usage, and average/median gas prices, aggregated by date, transaction type, and success status.
  columns:
  - name: date
    description: Date representing the start of the day (UTC).
    data_type: DateTime
  - name: transaction_type
    description: Type of transaction (e.g., legacy, EIP-1559).
    data_type: String
  - name: success
    description: Transaction success status (1 = success, 0 = failure).
    data_type: UInt8
  - name: n_txs
    description: Total number of transactions for the given grouping.
    data_type: UInt64
  - name: gas_used
    description: Total gas used by transactions (sum over group).
    data_type: UInt64
  - name: gas_price_avg
    description: Average gas price (wei) across transactions in the group.
    data_type: Int32
  - name: gas_price_median
    description: Median gas price (wei) across transactions in the group.
    data_type: Int32
  config:
    access: public
    materialized: table
    tags:
    - daily
    - execution
- name: fct_execution_transactions_cnt_daily
  description: Business-facing table summarizing daily counts of execution transactions, including transaction types, success status, and total number of transactions.
  columns:
  - name: date
    description: Date of the transaction count (YYYY-MM-DD).
    data_type: Date
  - name: transaction_type
    description: Type of transaction (e.g., transfer, contract call).
    data_type: String
  - name: success
    description: Indicates if the transaction was successful (1) or reverted (0).
    data_type: UInt8
  - name: n_txs
    description: Total number of transactions of this type and success status on the given date.
    data_type: UInt64
  config:
    access: public
- name: fct_execution_transactions_gas_used_daily
  description: Business-facing table aggregating daily execution transaction data, including gas usage, transaction counts, and value metrics for each day.
  columns:
  - name: date
    description: The day for which the metrics are aggregated, derived from block_timestamp.
    data_type: DateTime
  - name: transaction_type
    description: Type of transaction (e.g., legacy, EIP-1559), as string.
    data_type: String
  - name: success
    description: Indicator if transaction succeeded (1) or reverted (0).
    data_type: UInt8
  - name: n_txs
    description: Total number of transactions executed on the day.
    data_type: UInt64
  - name: xdai_value
    description: Sum of transaction values converted to XDAI (wei divided by 10^18).
    data_type: Float64
  - name: xdai_value_avg
    description: Average transaction value in XDAI for the day.
    data_type: Float64
  - name: xdai_value_median
    description: Median transaction value in XDAI for the day.
    data_type: Float64
  - name: gas_used
    description: Total gas used by all transactions on the day.
    data_type: UInt64
  - name: gas_price_avg
    description: Average gas price (wei) across transactions, cast to Int32.
    data_type: Int32
  - name: gas_price_median
    description: Median gas price (wei) across transactions, cast to Int32.
    data_type: Int32
  config:
    access: public
    materialized: incremental
    tags:
    - gas
    - transactions
    - daily
- name: fct_execution_transactions_value_daily
  description: Business-facing table summarizing daily transaction values, success status, and transaction types from execution data.
  columns:
  - name: date
    description: Date of the transaction day (YYYY-MM-DD).
    data_type: Date
  - name: transaction_type
    description: Type of transaction (e.g., transfer, contract call).
    data_type: String
  - name: success
    description: Indicator if transaction succeeded (1) or failed (0).
    data_type: UInt8
  - name: xdai_value
    description: Total value transferred in wei.
    data_type: UInt64
  - name: xdai_value_avg
    description: Average transaction value in wei for the day.
    data_type: Float64
  - name: xdai_value_median
    description: Median transaction value in wei for the day.
    data_type: Float64
  config:
    access: public
- name: fct_execution_transactions_active_accounts_daily
  description: '"Model capturing daily active accounts with execution transactions."'
  columns:
  - name: date
    description: Date of the data aggregation.
    data_type: String
  - name: active_accounts
    description: Merged bitmap state of active accounts.
    data_type: String
  config:
    materialized: view
    access: public
    tags:
    - production
    - execution
    - transactions
  meta:
    owner: analytics_engineer
    authoritative: false
    generated_by: schema-writer
- name: fct_execution_transactions_active_accounts_hourly_recent
  description: '"Aggregated count of active accounts per hour."'
  columns:
  - name: hour
    description: Hour of the aggregation window.
    data_type: UInt32
  - name: active_accounts
    description: Merged bitmap state of active accounts.
    data_type: String
  config:
    materialized: view
    access: public
    tags:
    - production
    - execution
    - transactions
    - hourly
  meta:
    owner: analytics_engineer
    authoritative: false
    generated_by: schema-writer
- name: fct_execution_transactions_active_accounts_monthly
  description: Monthly count of active accounts involved in execution transactions.
  columns:
  - name: month
    description: Month of the transactions.
    data_type: DateTime
  - name: active_accounts
    description: Bitmap merge of active account states.
    data_type: String
  config:
    access: public
  meta:
    owner: analytics_engineer
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_daily
  description: Daily summary of executed API transactions.
  columns:
  - name: date
    description: Date of the transaction.
    data_type: String
  - name: value
    description: Total number of transactions executed.
    data_type: Float64
    tests:
    - not_null
  config:
    materialized: view
    access: public
    tags:
    - production
    - execution
    - transactions
  meta:
    owner: analytics_engineer
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_monthly
  description: Monthly sum of successful API execution transactions.
  columns:
  - name: date
    description: Truncated month of the transaction
    data_type: DateTime
  - name: value
    description: Total number of transactions
    data_type: Float64
  config:
    access: public
    tags:
    - production
    - execution
    - transactions
    materialized: view
  meta:
    owner: analytics_engineer
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_by_project_daily
  description: Daily count of API execution transactions by project.
  columns:
  - name: date
    description: Date of the transaction.
    data_type: DateTime
    tests:
    - not_null
  - name: label
    description: Project label.
    data_type: String
    tests:
    - not_null
  - name: value
    description: Number of transactions.
    data_type: UInt64
    tests:
    - not_null
  config:
    materialized: view
    access: public
    tags:
    - production
    - execution
    - transactions
  meta:
    owner: analytics_engineer
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_by_project_24h
  description: Hourly count of execution transactions by project in the last 24 hours.
  columns:
  - name: date
    description: Date of the data entry.
    data_type: DateTime
    tests:
    - not_null
  - name: label
    description: Project label.
    data_type: String
    tests:
    - not_null
  - name: value
    description: Total transaction count.
    data_type: Float64
    tests:
    - not_null
  config:
    materialized: view
    tags:
    - production
    - execution
    - transactions
    - hourly
    access: public
  meta:
    owner: analytics_engineer
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_active_accounts_24h_unique
  description: Output of active unique accounts with transactions executed in the last 24 hours.
  columns:
  - name: date
    description: Date when transactions were executed.
    data_type: DateTime
    tests:
    - not_null
  - name: value
    description: Merged bitmap state of active accounts.
    data_type: String
    tests:
    - not_null
  config:
    materialized: view
    tags:
    - production
    - execution
    - transactions
    - hourly
    access: public
  meta:
    owner: analytics_engineer
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_active_accounts_hourly_ma_24h
  description: Hourly moving average of active accounts participating in API execution transactions over the last 24 hours.
  columns:
  - name: date
    description: Hourly timestamp representing the date.
    data_type: DateTime
    tests:
    - not_null
  - name: value
    description: Hourly moving average of active accounts.
    data_type: Float64
    tests:
    - not_null
  config:
    materialized: view
    tags:
    - production
    - execution
    - transactions
    - hourly
    access: public
  meta:
    owner: analytics_engineer
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_active_accounts_daily
  description: Daily count of active accounts executing transactions through the API.
  columns:
  - name: date
    description: Date of the record.
    data_type: DateTime
    tests:
    - not_null
  - name: value
    description: Number of active accounts.
    data_type: UInt64
    tests:
    - not_null
  config:
    access: public
  meta:
    owner: analytics_engineer
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_active_accounts_monthly
  description: Monthly count of active accounts interacting with the API.
  columns:
  - name: date
    description: Month of the data
    data_type: DateTime
  - name: value
    description: Number of active accounts
    data_type: UInt64
  config:
    access: public
  meta:
    owner: analytics_engineer
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_active_accounts_by_project_daily
  description: '"Daily count of active accounts interacting with API transactions by project."'
  columns:
  - name: date
    description: Date of the data entry.
    data_type: DateTime
  - name: label
    description: Project label associated with the active accounts.
    data_type: String
  - name: value
    description: Merged group bitmap state of active accounts.
    data_type: String
  config:
    access: public
  meta:
    owner: analytics_engineer
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_active_accounts_by_project_24h
  description: '"Active accounts by project in the last 24 hours."'
  columns:
  - name: date
    description: Date of the data.
    data_type: DateTime
    tests:
    - not_null
  - name: label
    description: Project label.
    data_type: String
    tests:
    - not_null
  - name: value
    description: Merged group bitmap state value.
    data_type: String
    tests:
    - not_null
  config:
    materialized: view
    tags:
    - production
    - execution
    - transactions
    - hourly
    access: public
  meta:
    owner: analytics_engineer
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_fees_24h
  description: Hourly total fees from API execution transactions in native and USD currencies.
  columns:
  - name: total_fee_native
    description: Total fees in native currency.
    data_type: Float64
  - name: total_fee_usd
    description: Total fees in USD.
    data_type: Float64
  config:
    access: public
    tags:
    - production
    - execution
    - transactions
    - hourly
    materialized: view
  meta:
    owner: analytics_engineer
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_fees_daily
  description: Daily total fees from executed API transactions, split by native token and USD.
  columns:
  - name: day
    description: Date of the transactions.
    data_type: DateTime
    tests:
    - not_null
  - name: total_fee_native
    description: Total fees in native token.
    data_type: Float64
    tests:
    - not_null
  - name: total_fee_usd
    description: Total fees in USD.
    data_type: Float64
    tests:
    - not_null
  config:
    materialized: view
    tags:
    - production
    - execution
    - transactions
    access: public
  meta:
    owner: analytics_engineer
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_fees_by_project_24h
  description: Hourly sum of transaction fees by project.
  columns:
  - name: project
    description: Project identifier.
    data_type: String
  - name: fee_native
    description: Total native token fees.
    data_type: Float64
  - name: fee_usd
    description: Total fees in USD.
    data_type: Float64
  config:
    materialized: view
    tags:
    - production
    - execution
    - transactions
    - hourly
    access: public
  meta:
    owner: analytics_engineer
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_cnt_daily
  description: Daily count of API execution transactions.
  columns:
  - name: date
    description: Date of the transaction.
    data_type: DateTime
    tests:
    - not_null
  - name: transaction_type
    description: Type of the transaction.
    data_type: UInt32
  - name: value
    description: Number of transactions.
    data_type: UInt64
    tests:
    - not_null
  config:
    materialized: view
    access: public
    tags:
    - production
    - execution
    - transactions
  meta:
    owner: analytics_engineer
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_cnt_total
  description: '"Model for counting the total number of API execution transactions."'
  columns:
  - name: transaction_type
    description: Envelope type (0 = legacy, 1 = access-list, 2 = EIP-1559).
    data_type: UInt32
  - name: value
    description: Total sum of transactions.
    data_type: Float64
  - name: success
    description: 1 if the transaction succeeded; 0 if it reverted.
    data_type: UInt8
  - name: n_txs
    description: Number of transactions.
    data_type: UInt64
  config:
    access: public
  meta:
    owner: analytics_engineer
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_gas_used_daily
  description: Daily summary of gas used in execution transactions.
  columns:
  - name: date
    description: Date of the transaction.
    data_type: DateTime
    tests:
    - not_null
  - name: transaction_type
    description: Type of the transaction.
    data_type: UInt32
  - name: gas_used
    description: Total gas consumed by the transaction.
    data_type: UInt64
    tests:
    - not_null
  - name: gas_price_avg
    description: Average gas price of the transaction.
    data_type: UInt64
  - name: gas_price_median
    description: Median gas price of the transaction.
    data_type: UInt64
  config:
    access: public
  meta:
    owner: analytics_engineer
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_value_daily
  description: '"Daily aggregated values of execution transactions on the xDai chain."'
  columns:
  - name: date
    description: Date of the transaction.
    data_type: DateTime
    tests:
    - not_null
  - name: transaction_type
    description: Type of transaction.
    data_type: UInt32
    tests:
    - not_null
  - name: xdai_value
    description: Value in xDai.
    data_type: Float64
    tests:
    - not_null
  - name: xdai_value_avg
    description: Average value in xDai.
    data_type: Float64
    tests:
    - not_null
  - name: xdai_value_median
    description: Median value in xDai.
    data_type: Float64
    tests:
    - not_null
  config:
    materialized: view
    access: public
    tags:
    - production
    - execution
    - transactions
  meta:
    owner: analytics_engineer
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_gas_share_by_project_daily
  description: Calculates the percentage of gas used by each project in daily transactions.
  columns:
  - name: date
    description: Date of the transaction.
    data_type: DateTime
  - name: label
    description: Project name.
    data_type: String
  - name: value
    description: Percentage of gas used by the project.
    data_type: Float64
  config:
    materialized: view
    tags:
    - production
    - execution
    - transactions
    - gas
    access: public
  meta:
    owner: analytics_engineer
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_active_accounts_latest
  description: '"Active accounts and their latest values along with percentage change from the previous week."'
  columns:
  - name: date
    description: UTC date of the data.
    data_type: UInt32
  - name: value
    description: Number of active accounts.
    data_type: UInt64
    tests:
    - not_null
  - name: change_pct
    description: Percentage change in active accounts from the previous week.
    data_type: Float64
  config:
    access: public
  meta:
    owner: analytics_engineer
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_fees_24h_native
  description: Hourly sum of native token fees from execution transactions within the last 24 hours.
  columns:
  - name: date
    description: Date of the hourly aggregation.
    data_type: DateTime
  - name: value
    description: Total sum of native token fees rounded to 6 decimal places.
    data_type: Float64
  config:
    materialized: view
    tags:
    - production
    - execution
    - transactions
    - hourly
    access: public
  meta:
    owner: analytics_engineer
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_fees_24h_usd
  description: '"Aggregated sum of transaction fees in USD over the last 24 hours."'
  columns:
  - name: date
    description: Date for the aggregated sum.
    data_type: DateTime
    tests:
    - not_null
  - name: value
    description: Total transaction fees in USD.
    data_type: Float64
    tests:
    - not_null
  config:
    materialized: view
    tags:
    - production
    - execution
    - transactions
    - hourly
    access: public
  meta:
    owner: analytics_engineer
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_fees_by_project_24h_native
  description: Hourly sum of native token fees for execution transactions by project over the last 24 hours.
  columns:
  - name: date
    description: Date of the data aggregation.
    data_type: String
  - name: label
    description: Project label.
    data_type: String
  - name: value
    description: Total sum of native token fees rounded to 6 decimal places.
    data_type: Float64
  config:
    materialized: view
    tags:
    - production
    - execution
    - transactions
    - hourly
    access: public
  meta:
    owner: analytics_engineer
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_fees_by_project_24h_usd
  description: Hourly sum of transaction fees in USD by project over the last 24 hours.
  columns:
  - name: date
    description: Date of the data.
    data_type: DateTime
  - name: label
    description: Project label.
    data_type: String
  - name: value
    description: Total transaction fees in USD.
    data_type: Float64
  config:
    materialized: view
    tags:
    - production
    - execution
    - transactions
    - hourly
    access: public
  meta:
    owner: analytics_engineer
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_fees_native_daily
  description: '"Daily sum of native token fees paid for successful transactions."'
  columns:
  - name: date
    description: Date of the transactions.
    data_type: DateTime
  - name: value
    description: Total sum of native token fees.
    data_type: Float64
  config:
    access: public
  meta:
    owner: analytics_engineer
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_fees_native_latest
  description: Value and percentage change of native transaction fees compared to the previous 7 days.
  columns:
  - name: date
    description: Date of the data entry.
    data_type: DateTime
    tests:
    - not_null
  - name: value
    description: Total native transaction fees for the date.
    data_type: Float64
    tests:
    - not_null
  - name: change_pct
    description: Percentage change in total fees compared to the previous 7 days.
    data_type: Float64
    tests:
    - not_null
  config:
    access: public
  meta:
    owner: analytics_engineer
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_fees_usd_daily
  description: Daily sum of transaction fees in USD.
  columns:
  - name: date
    description: Date of the transactions.
    data_type: String
  - name: value
    description: Sum of transaction fees in USD.
    data_type: Float64
  config:
    materialized: view
    access: public
    tags:
    - production
    - execution
    - transactions
  meta:
    owner: analytics_engineer
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_fees_usd_latest
  description: '"Model providing the latest USD transaction fees for API execution transactions."'
  columns:
  - name: date
    description: Date of the transaction.
    data_type: UInt32
  - name: value
    description: Total fee in USD.
    data_type: Float64
  - name: change_pct
    description: Percentage change in fee compared to the previous 7 days.
    data_type: Float64
  config:
    access: public
  meta:
    owner: analytics_engineer
    authoritative: false
    generated_by: schema-writer
- name: api_execution_transactions_latest
  description: '"Latest execution transactions data including date, total transactions, and percentage change from the previous week."'
  columns:
  - name: date
    description: Date of the data record.
    data_type: UInt32
  - name: value
    description: Total number of transactions.
    data_type: UInt64
    tests:
    - not_null
  - name: change_pct
    description: Percentage change in total transactions from the previous week.
    data_type: Float64
  config:
    access: public
  meta:
    owner: analytics_engineer
    authoritative: false
    generated_by: schema-writer
