version: 2
models:

- name: contracts_abi
  description: Business-facing model containing contract deployment details, ABI JSON, and related metadata.
  columns:
  - name: contract_address
    description: The contract address (proxy or regular)
    data_type: String
    tests:
    - not_null
    - unique
  - name: implementation_address
    description: For proxy contracts, the implementation address; NULL for regular/implementation contracts
    data_type: String
  - name: abi_json
    description: The ABI JSON
    data_type: String
  - name: contract_name
    description: Contract name from blockscout
    data_type: String
  - name: source
    description: ABI source (e.g., 'blockscout')
    data_type: String
  - name: updated_at
    description: Last updated timestamp
    data_type: DateTime64(0, 'UTC')
    tests:
    - not_null
  config:
    access: public
    tags:
    - contracts
    - abi
    materialized: incremental
  meta:
    owner: analytics-team
    authoritative: false
    generated_by: schema-writer
