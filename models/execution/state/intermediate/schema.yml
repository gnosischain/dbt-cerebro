version: 2
models:

- name: execution_state_size_diff_daily
  description: Daily summary of execution state size differences, including bytes diff per address and date.
  columns:

  - name: address
    description: Ethereum address (20-byte hex string) involved in the size diff.
    data_type: String
    tests:
    - not_null
    - unique

  - name: date
    description: Date for which the size difference is calculated, in UTC.
    data_type: DateTime
    tests:
    - not_null

  - name: bytes_diff
    description: Sum of size difference in bytes for the address on the given date.
    data_type: Int64
  config:
    access: public
    materialized: table
    tags:
    - daily
    - execution
    - state
  meta:
    owner: analytics-team
    authoritative: false
    generated_by: schema-writer

- name: int_execution_state_size_full_diff_daily
  description: This model calculates the daily net change in storage size for execution states by aggregating storage diffs, supporting incremental updates for performance analysis.
  columns:

  - name: date
    description: The specific day for which the storage size difference is calculated, truncated to the start of the day.
    data_type: DateTime64
    tests:
    - not_null

  - name: bytes_diff
    description: The net change in storage size in bytes for the day, where positive indicates an increase and negative indicates a decrease.
    data_type: UInt64
  config:
    access: public
    tags:
    - production
    - execution
    - state
    - size
    materialized: incremental
  meta:
    owner: analytics-team
    authoritative: false
    generated_by: dbt-schema-gen
    _generated_at: '2025-12-12T23:06:58.768350'
    _generated_fields:
    - description
    - columns.date.description
    - columns.bytes_diff.description
    - config.tags
    - config.materialized
    - columns.bytes_diff.data_type
    - columns.date.data_type
